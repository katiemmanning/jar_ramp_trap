Anova(simpdiversity.model)
AIC(simpdiversity.model)
#pairwise comparison
sdiv.emm<-emmeans(simpdiversity.model,pairwise~Trap)
sdiv.emm
#results: no sig diff btw jar-pitfall (0.2387), jar-sticky (0.9560), pitfall-sticky (0.0837); sig diff btw all others
sdiv.cld<-multcomp::cld(sdiv.emm, alpha = 0.05, Letters = LETTERS)
sdiv.cld
#evenness
##AIC -189
evenness.model<-lmer(evenness ~ Trap + (1 | Site:Replicate), data=insects)
summary(evenness.model)
Anova(evenness.model)
AIC(evenness.model)
#evenness
##AIC -189
evenness.model<-lmer(evenness ~ Trap + Date + (1 | Site:Replicate), data=insects)
summary(evenness.model)
Anova(evenness.model)
AIC(evenness.model)
#Shannon diversity
##AIC 157
#date is not significant
diversity.model<-lmer(diversity ~ Trap + Date + (1 | Site:Replicate), data=insects)
summary(diversity.model)
Anova(diversity.model)
AIC(diversity.model)
#pairwise comparison
even.emm<-emmeans(evenness.model,pairwise~Trap)
even.emm
#results: no sig diff btw jar-pitfall (0.28) or ramp-sticky (0.09); sig diff btw all others
even.cld<-multcomp::cld(even.emm, alpha = 0.05, Letters = LETTERS)
even.cld
#abundance plot
abundance.plot<-ggplot(insects, aes(x =Trap, y = abundance, fill=Trap))+
geom_boxplot()+
theme_bw()+
theme(legend.position ="NULL")+
theme(axis.text.x=element_blank())+
labs(x="", y="")+
scale_y_continuous(trans="log10")+
scale_fill_manual(values=c("#009E73","#E69F00","#F0E442","#CC79A7"))+
geom_text(data=abun.cld, aes(y = 600, label = .group))
abundance.plot
#richness plot
richness.plot<-ggplot(insects, aes(x =Trap, y = richness, fill=Trap))+
geom_boxplot()+
theme_bw()+
theme(legend.position ="NULL")+
theme(axis.text.x=element_blank())+
labs(x="", y="")+
scale_fill_manual(values=c("#009E73","#E69F00","#F0E442","#CC79A7"))+
geom_text(data=rich.cld, aes(y = 25, label = .group))
richness.plot
#Shannon diversity plot
diversity.plot<-ggplot(insects, aes(x =Trap, y = diversity, fill=Trap))+
geom_boxplot()+
theme_bw()+
theme(legend.position ="NULL")+
theme(axis.text.x=element_blank())+
labs(x="", y="")+
scale_fill_manual(values=c("#009E73","#E69F00","#F0E442","#CC79A7"))+
geom_text(data=div.cld, aes(y = 2.5, label = .group))
diversity.plot
#evenness plot
evenness.plot<-ggplot(insects, aes(x =Trap, y = evenness, fill=Trap))+
geom_boxplot()+
theme_bw()+
theme(legend.position ="NULL")+
theme(axis.text.x=element_blank())+
labs(x="", y="")+
scale_fill_manual(values=c("#009E73","#E69F00","#F0E442","#CC79A7"))+
geom_text(data=even.cld, aes(y = 1.2, label = .group))
evenness.plot
#Inv Simpson diversity plot
simpdiversity.plot<-ggplot(insects, aes(x =Trap, y = simpdiversity, fill=Trap))+
geom_boxplot()+
theme_bw()+
theme(legend.position ="NULL")+
theme(axis.text.x=element_blank())+
labs(x="", y="")+
scale_fill_manual(values=c("#009E73","#E69F00","#F0E442","#CC79A7"))+
geom_text(data=sdiv.cld, aes(y = 2.5, label = .group))
simpdiversity.plot
#Inv Simpson diversity plot
simpdiversity.plot<-ggplot(insects, aes(x =Trap, y = simpdiversity, fill=Trap))+
geom_boxplot()+
theme_bw()+
theme(legend.position ="NULL")+
theme(axis.text.x=element_blank())+
labs(x="", y="")+
scale_fill_manual(values=c("#009E73","#E69F00","#F0E442","#CC79A7"))+
geom_text(data=sdiv.cld, aes(y = 6.5, label = .group))
simpdiversity.plot
#Inv Simpson diversity plot
simpdiversity.plot<-ggplot(insects, aes(x =Trap, y = simpdiversity, fill=Trap))+
geom_boxplot()+
theme_bw()+
theme(legend.position ="NULL")+
theme(axis.text.x=element_blank())+
labs(x="", y="")+
scale_fill_manual(values=c("#009E73","#E69F00","#F0E442","#CC79A7"))+
geom_text(data=sdiv.cld, aes(y = 7, label = .group))
simpdiversity.plot
#Inv Simpson diversity plot
simpdiversity.plot<-ggplot(insects, aes(x =Trap, y = simpdiversity, fill=Trap))+
geom_boxplot()+
theme_bw()+
theme(legend.position ="NULL")+
theme(axis.text.x=element_blank())+
labs(x="", y="")+
scale_fill_manual(values=c("#009E73","#E69F00","#F0E442","#CC79A7"))+
geom_text(data=sdiv.cld, aes(y = 7.5, label = .group))
simpdiversity.plot
#Inv Simpson diversity plot
simpdiversity.plot<-ggplot(insects, aes(x =Trap, y = simpdiversity, fill=Trap))+
geom_boxplot()+
theme_bw()+
theme(legend.position ="NULL")+
theme(axis.text.x=element_blank())+
labs(x="", y="")+
scale_fill_manual(values=c("#009E73","#E69F00","#F0E442","#CC79A7"))+
geom_text(data=sdiv.cld, aes(y = 7.25, label = .group))
simpdiversity.plot
#Inv Simpson diversity plot
simpdiversity.plot<-ggplot(insects, aes(x =Trap, y = simpdiversity, fill=Trap))+
geom_boxplot()+
theme_bw()+
theme(legend.position ="NULL")+
theme(axis.text.x=element_blank())+
labs(x="", y="")+
scale_fill_manual(values=c("#009E73","#E69F00","#F0E442","#CC79A7"))+
geom_text(data=sdiv.cld, aes(y = 7, label = .group))
simpdiversity.plot
#evenness plot
evenness.plot<-ggplot(insects, aes(x =Trap, y = evenness, fill=Trap))+
geom_boxplot()+
theme_bw()+
theme(legend.position ="NULL")+
theme(axis.text.x=element_blank())+
labs(x="", y="")+
scale_fill_manual(values=c("#009E73","#E69F00","#F0E442","#CC79A7"))+
geom_text(data=even.cld, aes(y = 1.2, label = .group))
evenness.plot
#Inv Simpson diversity plot
simpdiversity.plot<-ggplot(insects, aes(x =Trap, y = simpdiversity, fill=Trap))+
geom_boxplot()+
theme_bw()+
theme(legend.position ="NULL")+
theme(axis.text.x=element_blank())+
labs(x="", y="")+
scale_fill_manual(values=c("#009E73","#E69F00","#F0E442","#CC79A7"))+
geom_text(data=sdiv.cld, aes(y = 7, label = .group))
simpdiversity.plot
#Shannon diversity plot
diversity.plot<-ggplot(insects, aes(x =Trap, y = diversity, fill=Trap))+
geom_boxplot()+
theme_bw()+
theme(legend.position ="NULL")+
theme(axis.text.x=element_blank())+
labs(x="", y="")+
scale_fill_manual(values=c("#009E73","#E69F00","#F0E442","#CC79A7"))+
geom_text(data=div.cld, aes(y = 2.5, label = .group))
diversity.plot
#Inv Simpson diversity plot
simpdiversity.plot<-ggplot(insects, aes(x =Trap, y = simpdiversity, fill=Trap))+
geom_boxplot()+
theme_bw()+
theme(legend.position ="NULL")+
theme(axis.text.x=element_blank())+
labs(x="", y="")+
scale_fill_manual(values=c("#009E73","#E69F00","#F0E442","#CC79A7"))+
geom_text(data=sdiv.cld, aes(y = 7.5, label = .group))
simpdiversity.plot
#Inv Simpson diversity plot
simpdiversity.plot<-ggplot(insects, aes(x =Trap, y = simpdiversity, fill=Trap))+
geom_boxplot()+
theme_bw()+
theme(legend.position ="NULL")+
theme(axis.text.x=element_blank())+
labs(x="", y="")+
scale_fill_manual(values=c("#009E73","#E69F00","#F0E442","#CC79A7"))+
geom_text(data=sdiv.cld, aes(y = 7.4, label = .group))
simpdiversity.plot
functionalfigure <- ggarrange(richness.plot, abundance.plot, diversity.plot, simpdiversity.plot, evenness.plot,
labels = c("E", "F", "G", "H", "I"),
ncol = 2, nrow = 2,
common.legend = TRUE, legend = "bottom")
pdf("functional.pdf", height=6, width=8) #height and width in inches
functionalfigure
dev.off()
#Mush order plots together
library(ggpubr)
functionalfigure <- ggarrange(richness.plot, abundance.plot, diversity.plot, simpdiversity.plot, evenness.plot,
labels = c("E", "F", "G", "H", "I"),
ncol = 3, nrow = 3,
common.legend = TRUE, legend = "bottom")
pdf("functional.pdf", height=6, width=8) #height and width in inches
functionalfigure
dev.off()
functionalfigure <- ggarrange(richness.plot, abundance.plot, diversity.plot, simpdiversity.plot, evenness.plot,
labels = c("E", "F", "G", "H", "I"),
ncol = 3, nrow = 2,
common.legend = TRUE, legend = "bottom")
pdf("functional.pdf", height=6, width=8) #height and width in inches
functionalfigure
dev.off()
functionalfigure
flying<-read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/flying.csv")
crawling<-read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/crawling.csv")
intermediate<-read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/intermediate.csv")
View(flying)
pitfall_beetle <- read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/2020%20beetles_pitfall.csv",na.strings = NULL)
ramp_beetle <- read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/2020%20beetles_yellowramp.csv",na.strings = NULL)
jar_beetle <- read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/2020%20beetles_jarramp.csv",na.strings = NULL)
sticky_beetle <- read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/2020%20beetles_stickycard.csv",na.strings = NULL)
taxa_beetle <- read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/beetle%20taxa.csv")
#add trap type as a column on each data file
pitfall_beetle$Trap="pitfall"
ramp_beetle$Trap="ramp"
jar_beetle$Trap="jar"
sticky_beetle$Trap="sticky"
library (plyr)
pitfallramp_beetle <- rbind.fill (pitfall_beetle, ramp_beetle)
pitfallrampjar_beetle <-rbind.fill (pitfallramp_beetle, jar_beetle)
beetle <- rbind.fill (pitfallrampjar_beetle, sticky_beetle)
str(beetle) #trap is listed as character
beetle$Trap <- as.factor(beetle$Trap)
str(beetle)
#Create matrix of environmental variables
env.matrix_beetle<-beetle[c(1:3,19)]
#create matrix of community variables
com.matrix_beetle<-beetle[c(4:18)]
#ordination by NMDS
NMDS_beetle<-metaMDS(com.matrix_beetle, distance="bray", k=2, autotransform=TRUE, trymax=100)
NMDS_beetle
stressplot(NMDS_beetle)
flying_beetle<-as.vector(t(taxa_beetle[1,]))
flying_beetle<-flying_beetle[-1]
crawling_beetle<-as.vector(t(taxa_beetle[2,]))
crawling_beetle<-crawling_beetle[-1]
intermediate_beetle<-as.vector(t(taxa_beetle[3,]))
intermediate_beetle<-intermediate_beetle[-1]
include_beetle<-as.vector(t(taxa_beetle[4,]))
include_beetle<-include_beetle[-1]
#plot beetle NMDS
#8x10
plot(NMDS_beetle, disp='sites', type="n")
title(main="Focal taxa", adj = 0.01, line = -2, cex.main=2.5)
#add ellipsoids with ordiellipse
ordiellipse(NMDS_beetle, env.matrix_beetle$Trap, draw="polygon", col="#F0E442",kind="sd", conf=0.95, label=FALSE, show.groups = "ramp")
ordiellipse(NMDS_beetle, env.matrix_beetle$Trap, draw="polygon", col="#CC79A7",kind="sd", conf=0.95, label=FALSE, show.groups = "sticky")
ordiellipse(NMDS_beetle, env.matrix_beetle$Trap, draw="polygon", col="#E69F00",kind="sd", conf=0.95, label=FALSE, show.groups = "pitfall")
ordiellipse(NMDS_beetle, env.matrix_beetle$Trap, draw="polygon", col="#009E73",kind="sd", conf=0.95, label=FALSE, show.groups = "jar")
#display ground trap data as solid shapes - pitfall=circle, ramp trap=square, jar=triangle, flying trap as triangle outline
points(NMDS_beetle, display="sites", select=which(env.matrix_beetle$Trap=="pitfall"),pch=19, col="#E69F00")
points(NMDS_beetle, display="sites", select=which(env.matrix_beetle$Trap=="jar"), pch=17, col="#009E73")
points(NMDS_beetle, display="sites", select=which(env.matrix_beetle$Trap=="ramp"), pch=15, col="#F0E442")
points(NMDS_beetle, display="sites", select=which(env.matrix_beetle$Trap=="sticky"), pch=25, col="#CC79A7")
#add legend
legend(4.26,4.41, title=NULL, pch=c(19,17,15,25), col=c("#E69F00","#009E73","#F0E442","#CC79A7"), cex=.7, legend=c("Pitfall", "Jar ramp", "Yellow ramp", "Yellow sticky card"))
#add taxa as text
ordilabel(NMDS_beetle, display="species", select =which (include_beetle==TRUE & crawling_beetle == TRUE), cex=0.6, col="black", fill="white")
ordilabel(NMDS_beetle, display="species", select =which (include_beetle==TRUE & flying_beetle == TRUE), cex=0.6, col="white", fill="black")
ordilabel(NMDS_beetle, display="species", select =which (include_beetle==TRUE & intermediate_beetle == TRUE), cex=0.6, col="black", fill="grey")
#bootstrapping and testing for differences between the groups (traps)
fit<-adonis(com.matrix_beetle ~ Trap, data = env.matrix_beetle, permutations = 999, method="bray")
fit
#bootstrapping and testing for differences between the groups (traps)
fit<-adonis(com.matrix_beetle ~ Trap, data = env.matrix_beetle, permutations = 999, method="bray")
#bootstrapping and testing for differences between the groups (traps)
fit<-adonis2(com.matrix_beetle ~ Trap, data = env.matrix_beetle, permutations = 999, method="bray")
fit
#check assumption of homogeneity of multivariate dispersion
#P-value greater than 0.05 means assumption has been met
distances_data<-vegdist(com.matrix_beetle)
anova(betadisper(distances_data, env.matrix_beetle$Trap))
pairwise.adonis(com.matrix_beetle, env.matrix_beetle$Trap)
insects.abun_beetle <- rowSums(beetle[,4:18])
beetle$abundance <- insects.abun_beetle
#calculate beetle Richness
insects.rowsums_beetle <- rowSums(beetle[,4:18]>0)
beetle$richness <- insects.rowsums_beetle
#calculate beetle Shannon diversity
diversity_beetle <-diversity(beetle[,4:18])
beetle$diversity <-diversity_beetle
#calculate beetle inverse Simpson diversity
simpdiversity_beetle <-diversity(beetle[,4:18], "invsimpson")
beetle$simpdiversity <-simpdiversity_beetle
#calculate beetle Evenness
evenness_beetle <-diversity_beetle/log(specnumber(beetle[,4:18]))
beetle$evenness <- evenness_beetle
View(beetle)
#beetle richness
##AIC 77 (69 w/o date)
richness.model_beetle<-lmer(richness ~ Trap + Date + (1 | Site), data=beetle)
summary(richness.model_beetle)
Anova(richness.model_beetle)
AIC(richness.model_beetle)
View(beetle)
#beetle richness
##AIC 77
richness.model_beetle<-lmer(richness ~ Trap + Date + (1 | Site), data=beetle)
summary(richness.model_beetle)
Anova(richness.model_beetle)
AIC(richness.model_beetle)
#pairwise comparison
rich.emm_beetle<-emmeans(richness.model_beetle,pairwise~Trap)
rich.emm_beetle
#results: no differences
rich.cld_beetle<-multcomp::cld(rich.emm_beetle, alpha = 0.05, Letters = LETTERS)
rich.cld_beetle
#beetle abundance
##AIC 77 (69 w/o date)
abundance.model_beetle<-lmer(abundance ~ Trap + Date + (1 | Site), data=beetle)
summary(abundance.model_beetle)
Anova(abundance.model_beetle)
AIC(abundance.model_beetle)
#pairwise comparison
abun.emm_beetle<-emmeans(abundance.model_beetle,pairwise~Trap)
abun.emm_beetle
#results: no differences
abun.cld_beetle<-multcomp::cld(abun.emm_beetle, alpha = 0.05, Letters = LETTERS)
abun.cld_beetle
#beetle diversity
##AIC 53 (40 w/o date)
diversity.model_beetle<-lmer(diversity ~ Trap + Date + (1 | Site), data=beetle)
summary(diversity.model_beetle)
Anova(diversity.model_beetle)
AIC(diversity.model_beetle)
#pairwise comparison
div.emm_beetle<-emmeans(diversity.model_beetle,pairwise~Trap)
div.emm_beetle
#results: no differences
div.cld_beetle<-multcomp::cld(div.emm_beetle, alpha = 0.05, Letters = LETTERS)
div.cld_beetle
#beetle inv simpson diversity
##AIC 54
simpdiversity.model_beetle<-lmer(simpdiversity ~ Trap + Date + (1 | Site), data=beetle)
summary(simpdiversity.model_beetle)
Anova(simpdiversity.model_beetle)
AIC(simpdiversity.model_beetle)
#pairwise comparison
sdiv.emm_beetle<-emmeans(simpdiversity.model_beetle,pairwise~Trap)
sdiv.emm_beetle
#results: no differences
sdiv.cld_beetle<-multcomp::cld(sdiv.emm_beetle, alpha = 0.05, Letters = LETTERS)
sdiv.cld_beetle
#beetle evenness
##AIC -193 (-411 w/o date)
evenness.model_beetle<-lmer(evenness ~ Trap + Date + (1 | Site), data=beetle)
summary(evenness.model_beetle)
Anova(evenness.model_beetle)
AIC(evenness.model_beetle)
#pairwise comparison
even.emm_beetle<-emmeans(evenness.model_beetle,pairwise~Trap)
even.emm_beetle
#results:
even.cld_beetle<-multcomp::cld(even.emm_beetle, alpha = 0.05, Letters = LETTERS)
even.cld_beetle
#beetle evenness
##AIC -193 (-411 w/o date)
evenness.model_beetle<-lmer(evenness ~ Trap + Date + (1 | Site), data=beetle)
summary(evenness.model_beetle)
Anova(evenness.model_beetle)
AIC(evenness.model_beetle)
#pairwise comparison
even.emm_beetle<-emmeans(evenness.model_beetle,pairwise~Trap)
even.emm_beetle
#beetle abundance plot
abundance.plot_beetle<-ggplot(beetle, aes(x =Trap, y = abundance, fill=Trap))+
geom_boxplot()+
theme_bw()+
theme(legend.position ="NULL")+
theme(axis.text.x=element_blank())+
labs(x="", y="")+
scale_fill_manual(values=c("#009E73","#E69F00","#F0E442","#CC79A7"))+
geom_text(data=abun.cld_beetle, aes(y = 5, label = .group))
abundance.plot_beetle
#beetle richness plot
richness.plot_beetle<-ggplot(beetle, aes(x =Trap, y = richness, fill=Trap))+
geom_boxplot()+
theme_bw()+
theme(legend.position ="NULL")+
theme(axis.text.x=element_blank())+
labs(x="", y="")+
scale_fill_manual(values=c("#009E73","#E69F00","#F0E442","#CC79A7"))+
geom_text(data=rich.cld_beetle, aes(y = 5, label = .group))
richness.plot_beetle
#beetle diversity plot
diversity.plot_beetle<-ggplot(beetle, aes(x =Trap, y = diversity, fill=Trap))+
geom_boxplot()+
theme_bw()+
theme(legend.position ="NULL")+
theme(axis.text.x=element_blank())+
labs(x="", y="")+
scale_fill_manual(values=c("#009E73","#E69F00","#F0E442","#CC79A7"))+
geom_text(data=div.cld_beetle, aes(y = 2.5, label = .group))
diversity.plot_beetle
#beetle evenness plot
evenness.plot_beetle<-ggplot(beetle, aes(x =Trap, y = evenness, fill=Trap))+
geom_boxplot()+
theme_bw()+
theme(legend.position ="NULL")+
theme(axis.text.x=element_blank())+
labs(x="", y="")+
scale_fill_manual(values=c("#009E73","#E69F00","#F0E442","#CC79A7"))+
geom_text(data=even.cld_beetle, aes(y = 1.2, label = .group))
evenness.plot_beetle
#beetle inv Simpson diversity plot
simpdiversity.plot_beetle<-ggplot(beetle, aes(x =Trap, y = simpdiversity, fill=Trap))+
geom_boxplot()+
theme_bw()+
theme(legend.position ="NULL")+
theme(axis.text.x=element_blank())+
labs(x="", y="")+
scale_fill_manual(values=c("#009E73","#E69F00","#F0E442","#CC79A7"))+
geom_text(data=sdiv.cld_beetle, aes(y = 2.5, label = .group))
simpdiversity.plot_beetle
#beetle inv Simpson diversity plot
simpdiversity.plot_beetle<-ggplot(beetle, aes(x =Trap, y = simpdiversity, fill=Trap))+
geom_boxplot()+
theme_bw()+
theme(legend.position ="NULL")+
theme(axis.text.x=element_blank())+
labs(x="", y="")+
scale_fill_manual(values=c("#009E73","#E69F00","#F0E442","#CC79A7"))+
geom_text(data=sdiv.cld_beetle, aes(y = 3, label = .group))
simpdiversity.plot_beetle
#beetle evenness plot
evenness.plot_beetle<-ggplot(beetle, aes(x =Trap, y = evenness, fill=Trap))+
geom_boxplot()+
theme_bw()+
theme(legend.position ="NULL")+
theme(axis.text.x=element_blank())+
labs(x="", y="")+
scale_fill_manual(values=c("#009E73","#E69F00","#F0E442","#CC79A7"))+
geom_text(data=even.cld_beetle, aes(y = 1.2, label = .group))
evenness.plot_beetle
beetlefigure <- ggarrange(richness.plot_beetle, abundance.plot_beetle, diversity.plot_beetle, simpdiversity.model_beetle, evenness.plot_beetle,
labels = c("A", "B", "C", "D", "E"),
ncol = 3, nrow = 2,
common.legend = TRUE, legend = "bottom")
pdf("beetle.pdf", height=6, width=8) #height and width in inches
beetlefigure
dev.off()
beetlefigure
beetlefigure <- ggarrange(richness.plot_beetle, abundance.plot_beetle, diversity.plot_beetle, simpdiversity.plot_beetle, evenness.plot_beetle,
labels = c("A", "B", "C", "D", "E"),
ncol = 3, nrow = 2,
common.legend = TRUE, legend = "bottom")
pdf("beetle.pdf", height=6, width=8) #height and width in inches
beetlefigure
dev.off()
beetlefigure
library(ggvegan)
orderfigure <- ggarrange(richness.plot_order, abundance.plot_order, diversity.plot_order, simpdiversity.plot_order, evenness.plot_order,
ncol = 5, nrow = 1)
orderfigure
#b - functional
functionalfigure <- ggarrange(richness.plot, abundance.plot, diversity.plot, simpdiversity.plot, evenness.plot,
ncol = 5, nrow = 1)
functionalfigure
#c - beetle
beetlefigure <- ggarrange(richness.plot_beetle, abundance.plot_beetle, diversity.plot_beetle, simpdiversity.plot_beetle, evenness.plot_beetle,
ncol = 5, nrow = 1,
common.legend = TRUE, legend = "bottom")
beetlefigure
figure4 <- ggarrange(orderfigure, functionalfigure, beetlefigure,
labels = c("A", "B", "C"),
ncol = 1, nrow = 3,
common.legend = TRUE, legend = "bottom")
pdf("Figure 4.pdf", height=10, width=15) #height and width in inches
figure4
dev.off()
figure4
pdf("Figure 5.pdf", height=9, width=7)
par(mfrow=c(3,1), mar=c(4.1, 4.8, 1.5, 8.1),xpd=TRUE)
plot(NMDS_order, disp='sites', type='n')
ordiellipse(NMDS_order, env.matrix_order$Trap, draw="polygon", col="#E69F00",kind="sd", conf=0.95, label=FALSE, show.groups = "pitfall")
ordiellipse(NMDS_order, env.matrix_order$Trap, draw="polygon", col="#009E73",kind="sd", conf=0.95, label=FALSE, show.groups = "jar")
ordiellipse(NMDS_order, env.matrix_order$Trap, draw="polygon", col="#F0E442",kind="sd", conf=0.95, label=FALSE, show.groups = "ramp")
ordiellipse(NMDS_order, env.matrix_order$Trap, draw="polygon", col="#CC79A7",kind="sd", conf=0.95, label=FALSE, show.groups = "sticky")
points(NMDS_order, display="sites", select=which(env.matrix_order$Trap=="pitfall"),pch=19, col="#E69F00")
points(NMDS_order, display="sites", select=which(env.matrix_order$Trap=="jar"), pch=17, col="#009E73")
points(NMDS_order, display="sites", select=which(env.matrix_order$Trap=="ramp"), pch=15, col="#F0E442")
points(NMDS_order, display="sites", select=which(env.matrix_order$Trap=="sticky"), pch=25, col="#CC79A7")
ordilabel(NMDS_order, display="species", select =which (include_order==TRUE & crawling_order == TRUE), cex=0.6, col="black", fill="white")
ordilabel(NMDS_order, display="species", select =which (include_order==TRUE & flying_order == TRUE), cex=0.6, col="white", fill="black")
legend(2.8,1.35, title=NULL, pch=c(19,17,15,25), col=c("#E69F00","#009E73","#F0E442","#CC79A7"), cex=.7, legend=c("Pitfall", "Jar ramp", "Yellow ramp", "Yellow sticky card"))
text(-4, 0.95, "A", cex=2)
plot(NMDS, disp='sites', type='n')
ordiellipse(NMDS, env.matrix$Trap, draw="polygon", col="#E69F00",kind="sd", conf=0.95, label=FALSE, show.groups = "pitfall")
ordiellipse(NMDS, env.matrix$Trap, draw="polygon", col="#009E73",kind="sd", conf=0.95, label=FALSE, show.groups = "jar")
ordiellipse(NMDS, env.matrix$Trap, draw="polygon", col="#F0E442",kind="sd", conf=0.95, label=FALSE, show.groups = "ramp")
ordiellipse(NMDS, env.matrix$Trap, draw="polygon", col="#CC79A7",kind="sd", conf=0.95, label=FALSE, show.groups = "sticky")
points(NMDS, display="sites", select=which(env.matrix$Trap=="pitfall"),pch=19, col="#E69F00")
points(NMDS, display="sites", select=which(env.matrix$Trap=="jar"), pch=17, col="#009E73")
points(NMDS, display="sites", select=which(env.matrix$Trap=="ramp"), pch=15, col="#F0E442")
points(NMDS, display="sites", select=which(env.matrix$Trap=="sticky"), pch=25, col="#CC79A7")
ordilabel(NMDS, display="species", select =which (include_func==TRUE & crawling_func == TRUE), cex=0.6, col="black", fill="white")
ordilabel(NMDS, display="species", select =which (include_func==TRUE & flying_func == TRUE), cex=0.6, col="white", fill="black")
ordilabel(NMDS, display="species", select =which (include_func==TRUE & intermediate_func == TRUE), cex=0.6, col="black", fill="gray")
text(-3.7, 1.5, "B", cex=2)
dev.off()
#beetle evenness
##AIC -193
evenness.model_beetle<-lmer(evenness ~ Trap + Date + (1 | Site), data=beetle)
View(beetle)
View(flying)
View(flying)
pairwise.adonis(com.matrix_beetle, env.matrix_beetle$Trap)
