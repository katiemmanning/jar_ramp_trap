ramp_order$richness <- insects.rowsums
insects.abun <- rowSums(sticky_order[,5:16])
sticky_order$abundance <- insects.abun
insects.rowsums <- rowSums(sticky_order[,5:16]>0)
sticky_order$richness <- insects.rowsums
mean(pitfall_order$abundance) #14.82
sd(pitfall_order$abundance)/sqrt(10) #3.73
mean(pitfall_order$richness) #4.31
sd(pitfall_order$richness)/sqrt(10) #0.51
mean(jar_order$abundance) #26.2
sd(jar_order$abundance)/sqrt(10) #4.97
mean(jar_order$richness) #5
sd(jar_order$richness)/sqrt(10) #0.45
mean(ramp_order$abundance) #184.71
sd(ramp_order$abundance)/sqrt(10) #44.25
mean(ramp_order$richness) #7.81
sd(ramp_order$richness)/sqrt(10) #0.32
mean(sticky_order$abundance) #99.98
sd(sticky_order$abundance)/sqrt(10) #17.85
mean(sticky_order$richness) #5.90
sd(sticky_order$richness)/sqrt(10) #.30
pitfallramp_order <- rbind.fill (pitfall_order, ramp_order)
pitfallrampjar_order <-rbind.fill (pitfallramp_order, jar_order)
insects_order <- rbind.fill (pitfallrampjar_order, sticky_order)
str(insects_order) #trap is listed as character
insects_order$Trap <- as.factor(insects_order$Trap)
str(insects_order) #now trap is listed as a factor
library (vegan)
#Create matrix of environmental variables
env.matrix_order<-insects_order[c(1:4,17)]
#create matrix of community variables
com.matrix_order<-insects_order[c(5:16)]
#ordination by NMDS
NMDS_order<-metaMDS(com.matrix_order, distance="bray", k=2, autotransform=FALSE, trymax=100)
NMDS_order
#PERMANOVA -- testing for differences between the groups (traps)
fit<-adonis(com.matrix_order ~ Trap, data = env.matrix_order, permutations = 999, method="bray")
#PERMANOVA -- testing for differences between the groups (traps)
fit<-adonis2(com.matrix_order ~ Trap, data = env.matrix_order, permutations = 999, method="bray")
View(com.matrix_order)
#create matrix of community variables
com.matrix_order<-insects_order[c(5:16)]
View(com.matrix_order)
View(env.matrix_order)
View(insects_order)
#Create matrix of environmental variables
env.matrix_order<-insects_order[c(1:4,18)]
#create matrix of community variables
com.matrix_order<-insects_order[c(5:17)]
#ordination by NMDS
NMDS_order<-metaMDS(com.matrix_order, distance="bray", k=2, autotransform=FALSE, trymax=100)
NMDS_order
#PERMANOVA -- testing for differences between the groups (traps)
fit<-adonis2(com.matrix_order ~ Trap, data = env.matrix_order, permutations = 999, method="bray")
fit
flying_order<-as.vector(t(taxa_order[1,]))
flying_order<-flying_order[-1]
crawling_order<-as.vector(t(taxa_order[2,]))
crawling_order<-crawling_order[-1]
include_order<-as.vector(t(taxa_order[3,]))
include_order<-include_order[-1]
#plot order NMDS
plot(NMDS_order, disp='sites', type="n")
title(main="Order", adj = 0.01, line = -2, cex.main=2.5)
#add ellipsoids with ordiellipse
ordiellipse(NMDS_order, env.matrix_order$Trap, draw="polygon", col="#E69F00",kind="sd", conf=0.95, label=FALSE, show.groups = "pitfall")
ordiellipse(NMDS_order, env.matrix_order$Trap, draw="polygon", col="#009E73",kind="sd", conf=0.95, label=FALSE, show.groups = "jar")
ordiellipse(NMDS_order, env.matrix_order$Trap, draw="polygon", col="#F0E442",kind="sd", conf=0.95, label=FALSE, show.groups = "ramp")
ordiellipse(NMDS_order, env.matrix_order$Trap, draw="polygon", col="#CC79A7",kind="sd", conf=0.95, label=FALSE, show.groups = "sticky")
#display ground trap data as solid shapes - pitfall=circle, ramp trap=square, jar=triangle, flying trap as triangle outline
points(NMDS_order, display="sites", select=which(env.matrix_order$Trap=="pitfall"),pch=19, col="#E69F00")
points(NMDS_order, display="sites", select=which(env.matrix_order$Trap=="jar"), pch=17, col="#009E73")
points(NMDS_order, display="sites", select=which(env.matrix_order$Trap=="ramp"), pch=15, col="#F0E442")
points(NMDS_order, display="sites", select=which(env.matrix_order$Trap=="sticky"), pch=25, col="#CC79A7")
#add legend
legend(1.13,1.43, title=NULL, pch=c(19,17,15,25), col=c("#E69F00","#009E73","#F0E442","#CC79A7"), cex=.7, legend=c("Pitfall", "Jar ramp", "Yellow ramp", "Yellow sticky card"))
#add insect taxa as text
ordilabel(NMDS_order, display="species", select =which (include_order==TRUE & crawling_order == TRUE), cex=0.6, col="black", fill="white")
ordilabel(NMDS_order, display="species", select =which (include_order==TRUE & flying_order == TRUE), cex=0.6, col="white", fill="black")
#check assumption of homogeneity of multivariate dispersion
#P-value greater than 0.05 means assumption has been met
distances_data<-vegdist(com.matrix_order)
anova(betadisper(distances_data, env.matrix_order$Trap))
library(devtools)
library(pairwiseAdonis)
pairwise.adonis(com.matrix_order, env.matrix_order$Trap)
#PERMANOVA -- testing for differences between the groups (traps)
fit<-adonis2(com.matrix_order ~ Trap, data = env.matrix_order, permutations = 999, method="bray")
fit
#check assumption of homogeneity of multivariate dispersion
#P-value greater than 0.05 means assumption has been met
distances_data<-vegdist(com.matrix_order)
anova(betadisper(distances_data, env.matrix_order$Trap))
install.packages("devtools")
pairwise.adonis(com.matrix_order, env.matrix_order$Trap)
insects.abun_order <- rowSums(insects_order[,5:16])
insects_order$abundance <- insects.abun_order
#calculate order Richness
insects.rowsums_order <- rowSums(insects_order[,5:16]>0)
insects_order$richness <- insects.rowsums_order
#calculate order Shannon diversity
diversity_order <-diversity(insects_order[,5:16])
insects_order$diversity <-diversity_order
#calculate order Evenness
evenness_order <-diversity_order/log(specnumber(insects_order[,5:16]))
insects_order$evenness <- evenness_order
library(lme4)
library(lmerTest) #to obtain p values
library (emmeans) #for pairwise comparisons
library (multcompView) #to view letters
library (car) #Anova (needed because of negative binomial)
citation("car")
#order richness
#AIC 559
richness.model_order<-lmer(richness ~ Trap + Date + (1 | Site:Replicate), data=insects_order)
summary(richness.model_order)
Anova (richness.model_order)
AIC(richness.model_order)
#pairwise comparison
rich.emm_order<-emmeans(richness.model_order,pairwise~Trap)
rich.emm_order
#order abundance
##AIC 1530
abundance.model_order<-glmer(abundance ~ Trap + Date + (1 | Site:Replicate), data=insects_order, family = negative.binomial (4))
summary(abundance.model_order)
Anova(abundance.model_order)
#pairwise comparison
abun.emm_order<-emmeans(abundance.model_order,pairwise~Trap)
abun.emm_order
#order diversity
##AIC 132
#Date is not significant
diversity.model_order<-lmer(diversity ~ Trap + Date + (1 | Site:Replicate), data=insects_order)
summary(diversity.model_order)
Anova(diversity.model_order)
AIC(diversity.model_order)
#pairwise comparison
div.emm_order<-emmeans(diversity.model_order,pairwise~Trap)
div.emm_order
#results: no sig diff jar-pitfall (0.4395), jar-sticky (0.8075), pitfall-sticky (0.0859); sig between rest
div.cld_order<-multcomp::cld(div.emm_order, alpha = 0.05, Letters = LETTERS)
div.cld_order
#order evenness
##AIC -184
evenness.model_order<-lmer(evenness ~ Trap + Date + (1 | Site:Replicate), data=insects_order)
summary(evenness.model_order)
Anova(evenness.model_order)
AIC(evenness.model_order)
#pairwise comparison
even.emm_order<-emmeans(evenness.model_order,pairwise~Trap)
even.emm_order
#results: no sig diff between jar-pitfall (0.1060), jar-ramp (0.8689),jar-sticky (0.1062), ramp-sticky (0.4298); sig btw rest
even.cld_order<-multcomp::cld(even.emm_order, alpha = 0.05, Letters = LETTERS)
even.cld_order
#species accumulation for order
library (BiodiversityR)
library(ggplot2)
pitfall.com.matrix_order<-pitfall_order[c(5:16)]
pitfall_curve_order<-accumresult(pitfall.com.matrix_order, method = "exact", permutations = 1000)
jar.com.matrix_order<-jar_order[c(5:16)]
jar_curve_order<-accumresult(jar.com.matrix_order, method = "exact", permutations = 1000)
ramp.com.matrix_order<-ramp_order[c(5:16)]
ramp_curve_order<-accumresult(ramp.com.matrix_order, method = "exact", permutations = 1000)
sticky.com.matrix_order<-sticky_order[c(5:16)]
sticky_curve_order<-accumresult(sticky.com.matrix_order, method = "exact", permutations = 1000)
#calculates order richness for each sample
specnumber(com.matrix_order) #ranges from 1 to 10
#calculates order richness by treatment (trap)
specnumber(com.matrix_order, groups = insects_order$Trap) #jar=12; pitfall=9; ramp=12; sticky=10
#total richness and jackknife
rich <- diversityresult(com.matrix_order, y=NULL, index = "richness")
rich # 12
#total richness and jackknife
rich <- diversityresult(com.matrix_order, y=NULL, index = "richness")
pitfall <- read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/Insect%20ID%202020_pitfall_functional.csv",na.strings = NULL)
ramp <- read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/Insect%20ID%202020_yellowramp_functional.csv",na.strings = NULL)
jar <- read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/Insect%20ID%202020_jarramp_functional.csv",na.strings = NULL)
sticky <- read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/Insect%20ID%202020_stickycard_functional.csv",na.strings = NULL)
taxa <- read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/Functional%20taxa.csv")
#add trap type as a column on each data file
pitfall$Trap="pitfall"
ramp$Trap="ramp"
jar$Trap="jar"
sticky$Trap="sticky"
#calculate mean and SE richness and abundance of each trap type
insects.abun <- rowSums(pitfall[,5:43])
pitfall$abundance <- insects.abun
insects.rowsums <- rowSums(pitfall[,5:43]>0)
pitfall$richness <- insects.rowsums
insects.abun <- rowSums(jar[,5:43])
jar$abundance <- insects.abun
insects.rowsums <- rowSums(jar[,5:43]>0)
jar$richness <- insects.rowsums
insects.abun <- rowSums(ramp[,5:43])
ramp$abundance <- insects.abun
insects.rowsums <- rowSums(ramp[,5:43]>0)
ramp$richness <- insects.rowsums
insects.abun <- rowSums(sticky[,5:43])
sticky$abundance <- insects.abun
insects.rowsums <- rowSums(sticky[,5:43]>0)
sticky$richness <- insects.rowsums
mean(pitfall$abundance) #14.82
sd(pitfall$abundance)/sqrt(10) #3.73
mean(pitfall$richness) #5.28
sd(pitfall$richness)/sqrt(10) #0.69
mean(jar$abundance) #26.17
sd(jar$abundance)/sqrt(10) #4.97
mean(jar$richness) #6.36
sd(jar$richness)/sqrt(10) #0.64
mean(ramp$abundance) #184.71
sd(ramp$abundance)/sqrt(10) #44.25
mean(ramp$richness) #12.76
sd(ramp$richness)/sqrt(10) #0.87
mean(sticky$abundance) #99.98
sd(sticky$abundance)/sqrt(10) #17.85
mean(sticky$richness) #9.29
sd(sticky$richness)/sqrt(10) #0.78
#combine data tables
library (plyr)
pitfallramp <- rbind.fill (pitfall, ramp)
pitfallrampjar <-rbind.fill (pitfallramp, jar)
insects <- rbind.fill (pitfallrampjar, sticky)
str(insects) #trap is listed as character
insects$Trap <- as.factor(insects$Trap)
str(insects) #now trap is listed as a factor
#############
#NMDS of insect community by functional classification between trap types
library (vegan)
#Create matrix of environmental variables
env.matrix<-insects[c(1:4,44)]
#create matrix of community variables
com.matrix<-insects[c(5:43)]
View(com.matrix)
View(insects)
env.matrix<-insects[c(1:4,44)]
#create matrix of community variables
com.matrix<-insects[c(5:43)]
#ordination by NMDS
NMDS<-metaMDS(com.matrix, distance="bray", k=2, autotransform=FALSE, trymax=100)
NMDS
#bootstrapping and testing for differences between the groups (traps)
fit<-adonis(com.matrix ~ Trap, data = env.matrix, permutations = 999, method="bray")
#bootstrapping and testing for differences between the groups (traps)
fit<-adonis2(com.matrix ~ Trap, data = env.matrix, permutations = 999, method="bray")
fit
#check assumption of homogeneity of multivariate dispersion
#P-value greater than 0.05 means assumption has been met
distances_data<-vegdist(com.matrix)
anova(betadisper(distances_data, env.matrix$Trap))
pairwise.adonis(com.matrix, env.matrix$Trap)
richness.model<-lmer(richness ~ Trap + Date + (1 | Site:Replicate), data=insects)
summary(richness.model)
Anova(richness.model)
AIC(richness.model)
#pairwise comparison
rich.emm<-emmeans(richness.model,pairwise~Trap)
rich.emm
Anova(richness.model)
#richness
##AIC 721
richness.model<-lmer(richness ~ Trap + Date + (1 | Site:Replicate), data=insects)
summary(richness.model)
Anova(richness.model)
AIC(richness.model)
#pairwise comparison
rich.emm<-emmeans(richness.model,pairwise~Trap)
Anova(richness.model)
#diversity
##AIC 157
#date is not significant
diversity.model<-lmer(diversity ~ Trap + (1 | Site:Replicate), data=insects)
summary(diversity.model)
Anova(diversity.model)
#calculate Abundance
insects.abun <- rowSums(insects[,5:43])
insects$abundance <- insects.abun
#calculate Richness
insects.rowsums <- rowSums(insects[,5:43]>0)
insects$richness <- insects.rowsums
#calculate Shannon diversity
diversity <-diversity(insects[,5:43])
insects$diversity <-diversity
#calculate Evenness
evenness <-diversity/log(specnumber(insects[,5:43]))
insects$evenness <- evenness
#diversity
##AIC 157
#date is not significant
diversity.model<-lmer(diversity ~ Trap + (1 | Site:Replicate), data=insects)
summary(diversity.model)
Anova(diversity.model)
AIC(diversity.model)
#pairwise comparison
div.emm<-emmeans(diversity.model,pairwise~Trap)
div.emm
#results: no sig diff btw jar-pitfall (0.2387), jar-sticky (0.9560), pitfall-sticky (0.0837); sig diff btw all others
div.cld<-multcomp::cld(div.emm, alpha = 0.05, Letters = LETTERS)
div.cld
#diversity
##AIC 157
#date is not significant
diversity.model<-lmer(diversity ~ Trap + Date + (1 | Site:Replicate), data=insects)
summary(diversity.model)
Anova(diversity.model)
AIC(diversity.model)
#pairwise comparison
div.emm<-emmeans(diversity.model,pairwise~Trap)
div.emm
#results: no sig diff btw jar-pitfall (0.2387), jar-sticky (0.9560), pitfall-sticky (0.0837); sig diff btw all others
div.cld<-multcomp::cld(div.emm, alpha = 0.05, Letters = LETTERS)
div.cld
#evenness
##AIC -189
evenness.model<-lmer(evenness ~ Trap + (1 | Site:Replicate), data=insects)
summary(evenness.model)
Anova(evenness.model)
AIC(evenness.model)
#pairwise comparison
even.emm<-emmeans(evenness.model,pairwise~Trap)
even.emm
#results: no sig diff btw jar-pitfall (0.3834) or ramp-sticky (0.1227); sig diff btw all others
even.cld<-multcomp::cld(even.emm, alpha = 0.05, Letters = LETTERS)
even.cld
#evenness
##AIC -189
evenness.model<-lmer(evenness ~ Trap + Date + (1 | Site:Replicate), data=insects)
summary(evenness.model)
Anova(evenness.model)
AIC(evenness.model)
#pairwise comparison
even.emm<-emmeans(evenness.model,pairwise~Trap)
even.emm
#results: no sig diff btw jar-pitfall (0.3834) or ramp-sticky (0.1227); sig diff btw all others
even.cld<-multcomp::cld(even.emm, alpha = 0.05, Letters = LETTERS)
even.cld
#abundance model for flying arthropods
#AIC = 1260
abundance.model_flying<-glm(abundance ~ Trap, data=flying,family = negative.binomial(2.5))
summary(abundance.model_flying)
#evenness
##AIC -189
evenness.model<-lmer(evenness ~ Trap + Date + (1 | Site:Replicate), data=insects)
summary(evenness.model)
Anova(evenness.model)
AIC(evenness.model)
#pairwise comparison
even.emm<-emmeans(evenness.model,pairwise~Trap)
even.emm
#results: no sig diff btw jar-pitfall (0.3834) or ramp-sticky (0.1227); sig diff btw all others
even.cld<-multcomp::cld(even.emm, alpha = 0.05, Letters = LETTERS)
even.cld
#evenness
##AIC -189
evenness.model<-lmer(evenness ~ Trap + (1 | Site:Replicate), data=insects)
summary(evenness.model)
Anova(evenness.model)
AIC(evenness.model)
#pairwise comparison
even.emm<-emmeans(evenness.model,pairwise~Trap)
even.emm
#results: no sig diff btw jar-pitfall (0.3834) or ramp-sticky (0.1227); sig diff btw all others
even.cld<-multcomp::cld(even.emm, alpha = 0.05, Letters = LETTERS)
even.cld
#diversity
##AIC 157
#date is not significant
diversity.model<-lmer(diversity ~ Trap + (1 | Site:Replicate), data=insects)
summary(diversity.model)
Anova(diversity.model)
#evenness
##AIC -189
evenness.model<-lmer(evenness ~ Trap + (1 | Site:Replicate), data=insects)
summary(evenness.model)
Anova(evenness.model)
pitfall <- read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/Insect%20ID%202020_pitfall_functional.csv",na.strings = NULL)
ramp <- read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/Insect%20ID%202020_yellowramp_functional.csv",na.strings = NULL)
jar <- read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/Insect%20ID%202020_jarramp_functional.csv",na.strings = NULL)
sticky <- read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/Insect%20ID%202020_stickycard_functional.csv",na.strings = NULL)
taxa <- read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/Functional%20taxa.csv")
#add trap type as a column on each data file
pitfall$Trap="pitfall"
ramp$Trap="ramp"
jar$Trap="jar"
sticky$Trap="sticky"
#calculate mean and SE richness and abundance of each trap type
insects.abun <- rowSums(pitfall[,5:43])
pitfall$abundance <- insects.abun
insects.rowsums <- rowSums(pitfall[,5:43]>0)
pitfall$richness <- insects.rowsums
insects.abun <- rowSums(jar[,5:43])
jar$abundance <- insects.abun
insects.rowsums <- rowSums(jar[,5:43]>0)
jar$richness <- insects.rowsums
insects.abun <- rowSums(ramp[,5:43])
ramp$abundance <- insects.abun
insects.rowsums <- rowSums(ramp[,5:43]>0)
ramp$richness <- insects.rowsums
insects.abun <- rowSums(sticky[,5:43])
sticky$abundance <- insects.abun
insects.rowsums <- rowSums(sticky[,5:43]>0)
sticky$richness <- insects.rowsums
mean(pitfall$abundance) #14.82
sd(pitfall$abundance)/sqrt(10) #3.73
mean(pitfall$richness) #5.28
sd(pitfall$richness)/sqrt(10) #0.69
mean(jar$abundance) #26.17
sd(jar$abundance)/sqrt(10) #4.97
mean(jar$richness) #6.36
sd(jar$richness)/sqrt(10) #0.64
mean(ramp$abundance) #184.71
sd(ramp$abundance)/sqrt(10) #44.25
mean(ramp$richness) #12.76
sd(ramp$richness)/sqrt(10) #0.87
mean(sticky$abundance) #99.98
sd(sticky$abundance)/sqrt(10) #17.85
mean(sticky$richness) #9.29
sd(sticky$richness)/sqrt(10) #0.78
#combine data tables
library (plyr)
pitfallramp <- rbind.fill (pitfall, ramp)
pitfallrampjar <-rbind.fill (pitfallramp, jar)
insects <- rbind.fill (pitfallrampjar, sticky)
str(insects) #trap is listed as character
insects$Trap <- as.factor(insects$Trap)
str(insects) #now trap is listed as a factor
insects.abun <- rowSums(insects[,5:43])
insects$abundance <- insects.abun
#calculate Richness
insects.rowsums <- rowSums(insects[,5:43]>0)
insects$richness <- insects.rowsums
#calculate Shannon diversity
diversity <-diversity(insects[,5:43])
#############
#NMDS of insect community by functional classification between trap types
library (vegan)
diversity <-diversity(insects[,5:43])
insects$diversity <-diversity
#calculate Evenness
evenness <-diversity/log(specnumber(insects[,5:43]))
insects$evenness <- evenness
flying<-read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/flying.csv")
crawling<-read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/crawling.csv")
intermediate<-read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/intermediate.csv")
str(flying) #trap is listed as character
flying$Trap <- as.factor(flying$Trap)
str(flying) #now trap is listed as a factor
str(crawling) #trap is listed as character
crawling$Trap <- as.factor(crawling$Trap)
str(crawling) #now trap is listed as a factor
str(intermediate) #trap is listed as character
intermediate$Trap <- as.factor(intermediate$Trap)
str(intermediate) #now trap is listed as a factor
#calculating abundance for flying
flying.abun <- rowSums(flying[,2:23])
flying$abundance <- flying.abun
mean(flying$abundance) #43.18
sd(flying$abundance)/sqrt(10) #16.32
#calculating abundance for crawling
crawling.abun <- rowSums(crawling[,2:6])
crawling$abundance <- crawling.abun
mean(crawling$abundance) #18.4
sd(crawling$abundance)/sqrt(10) #8.14
#calculating abundance for intermediate
intermediate.abun <- rowSums(intermediate[,2:11])
intermediate$abundance <- intermediate.abun
mean(intermediate$abundance) #20.53
sd(intermediate$abundance)/sqrt(10) #15.94
#calculating richness for flying
flying.rich <- rowSums(flying[,2:23]>0)
flying$richness <- flying.rich
mean(flying$richness) #3.88
sd(flying$richness)/sqrt(10) #0.85
#calculating richness for crawling
crawling.rich <- rowSums(crawling[,2:6]>0)
crawling$richness <- crawling.rich
mean(crawling$richness) #2.65
sd(crawling$richness)/sqrt(10) #0.51
#calculating richness for intermediate
intermediate.rich <- rowSums(intermediate[,2:11]>0)
intermediate$richness <- intermediate.rich
mean(intermediate$richness) #1.68
sd(intermediate$richness)/sqrt(10) #0.32
#abundance model for flying arthropods
#AIC = 1260
abundance.model_flying<-glm(abundance ~ Trap, data=flying,family = negative.binomial(2.5))
#######
#Mixed effects models
library(lme4)
#abundance model for flying arthropods
#AIC = 1260
abundance.model_flying<-glm(abundance ~ Trap, data=flying,family = negative.binomial(2.5))
summary(abundance.model_flying)
Anova(abundance.model_flying)
library (car) #for Anova (which is needed because of negative binomial)
Anova(abundance.model_flying)
AIC(abundance.model_flying)
#pairwise comparison
abun_f.emm<-emmeans(abundance.model_flying,pairwise~Trap)
library (emmeans) #for pairwise comparisons
#pairwise comparison
abun_f.emm<-emmeans(abundance.model_flying,pairwise~Trap)
abun_f.emm
#results: no diff btw ramp-sticky
abun_f.cld<-multcomp::cld(abun_f.emm, alpha = 0.05, Letters = LETTERS)
abun_f.cld
anova(abundance.model_flying)
library(lmerTest) #to obtain p values
anova(abundance.model_flying)
Anova(abundance.model_flying)
#pairwise comparison
abun_f.emm<-emmeans(abundance.model_flying,pairwise~Trap)
abun_f.emm
