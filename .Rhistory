#77%
j2.s <- diversityresult(sticky.com.matrix, y=NULL, index = "jack2")
j2.s # 11.219697
#80%
#BiodiversityR::accumcomp
Accum.1_beetle <- accumcomp(com.matrix_beetle, y=env.matrix_beetle, factor='Trap',
method='random', conditioned=FALSE, plotit=FALSE)
Accum.1_beetle
#BiodiversityR::accumcomp.long
accum.long1_beetle <- accumcomp.long(Accum.1_beetle, ci=NA, label.freq=5)
head(accum.long1_beetle)
#plot
#empty canvas
BioR.theme <- theme(
panel.background = element_blank(),
panel.border = element_blank(),
panel.grid = element_blank(),
axis.line = element_line("gray25"),
text = element_text(size = 12),
axis.text = element_text(size = 10, colour = "gray25"),
axis.title = element_text(size = 14, colour = "gray25"),
legend.title = element_text(size = 14),
legend.text = element_text(size = 14),
legend.key = element_blank())
beetle_accum <- ggplot(data=accum.long1_beetle, aes(x = Sites, y = Richness, ymax = UPR, ymin = LWR)) +
scale_x_continuous(expand=c(0, 1), sec.axis = dup_axis(labels=NULL, name=NULL)) +
scale_y_continuous(sec.axis = dup_axis(labels=NULL, name=NULL)) +
scale_color_manual(values=c("#009E73","#E69F00","#F0E442","#CC79A7"))+
scale_shape_manual(values=c(19,17,15,25))+
geom_line(aes(colour=Grouping), size=0.1) +
geom_ribbon(aes(colour=Grouping, fill=after_scale(alpha(colour, 0.3))),
show.legend=FALSE, linetype = 0) +
geom_point(data=subset(accum.long1_beetle, labelit==TRUE),
aes(colour=Grouping, shape=Grouping), size=3) +
BioR.theme +
labs(x = "Number of samples", y = "", colour = "Trap", shape = "Trap")
beetle_accum
figure3 <- ggarrange(order_accum, functional_accum, beetle_accum,
labels = c("A", "B", "C"),
ncol = 1, nrow = 3,
common.legend = TRUE, legend = "bottom")
figure3
pdf("Figure 3.pdf", height=6, width=6) #height and width in inches
figure3
dev.off()
#Mush order plots together
library(ggpubr)
figure3 <- ggarrange(order_accum, functional_accum, beetle_accum,
labels = c("A", "B", "C"),
ncol = 1, nrow = 3,
common.legend = TRUE, legend = "bottom")
figure3
pdf("Figure 3.pdf", height=6, width=6) #height and width in inches
figure3
dev.off()
figure3 <- ggarrange(order_accum, functional_accum, beetle_accum,
labels = c("A", "B", "C"),
ncol = 1, nrow = 3,
common.legend = TRUE, legend = "bottom")
figure3
pdf("Figure 3.pdf", height=6, width=6) #height and width in inches
figure3
dev.off()
install.packages("cowplot")
install.packages("cowplot")
#Figure 3 - accumulation plots
library (cowplot)
install.packages("patchwork")
library(patchwork)
patchwork = order_accum + functional_accum + beetle_accum
patchwork = order_accum + functional_accum + beetle_accum
patchwork
figure3 <- ggarrange(order_accum, functional_accum, beetle_accum,
labels = c("A", "B", "C"),
ncol = 1, nrow = 3,
common.legend = TRUE, legend = "bottom")
annotate_figure(figure3, left = textGrob("Common y-axis", rot = 90, vjust = 1, gp = gpar(cex = 1.3)),
bottom = textGrob("Common x-axis", gp = gpar(cex = 1.3)))
#a - order
#b - functional
#c - beetles
require(grid)   # for the textGrob() function
figure3 <- ggarrange(order_accum, functional_accum, beetle_accum,
labels = c("A", "B", "C"),
ncol = 1, nrow = 3,
common.legend = TRUE, legend = "bottom")
pitfall_order <- read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/Insect%20ID%202020_pitfall_order.csv",na.strings = NULL)
ramp_order <- read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/Insect%20ID%202020_yellowramp_order.csv",na.strings = NULL)
jar_order <- read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/Insect%20ID%202020_jarramp_order.csv",na.strings = NULL)
sticky_order <- read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/Insect%20ID%202020_stickycard_order.csv",na.strings = NULL)
taxa_order <- read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/Order%20taxa.csv")
#add trap type as a column on each data file
pitfall_order$Trap="pitfall"
ramp_order$Trap="ramp"
jar_order$Trap="jar"
sticky_order$Trap="sticky"
#Mush order plots together
library(ggpubr)
library (BiodiversityR)
library(ggplot2)
#individual curves for each trap type
pitfall.com.matrix_order<-pitfall_order[c(5:16)]
pitfall_curve_order<-accumresult(pitfall.com.matrix_order, method = "exact", permutations = 1000)
jar.com.matrix_order<-jar_order[c(5:16)]
jar_curve_order<-accumresult(jar.com.matrix_order, method = "exact", permutations = 1000)
ramp.com.matrix_order<-ramp_order[c(5:16)]
ramp_curve_order<-accumresult(ramp.com.matrix_order, method = "exact", permutations = 1000)
sticky.com.matrix_order<-sticky_order[c(5:16)]
sticky_curve_order<-accumresult(sticky.com.matrix_order, method = "exact", permutations = 1000)
#first-order jackknife estimates are based on the number of singletons
#second-order jackknife estimates are based on the number of singletons and doubletons
#calculates order richness for each sample
specnumber(com.matrix_order) #ranges from 1 to 10
#calculates order richness by treatment (trap)
specnumber(com.matrix_order, groups = insects_order$Trap) #jar=12; pitfall=9; ramp=12; sticky=10
#total richness and jackknife
rich <- diversityresult(com.matrix_order, y=NULL, index = "richness")
rich # 12
j1 <- diversityresult(com.matrix_order, y=NULL, index = "jack1")
j1 # 12
#100%
j2 <- diversityresult(com.matrix_order, y=NULL, index = "jack2")
j2 # 12
#100%
#jar jackknife; richness = 12
j1.j <- diversityresult(jar.com.matrix_order, y=NULL, index = "jack1")
j1.j # 13.952381
#86%
j2.j <- diversityresult(jar.com.matrix_order, y=NULL, index = "jack2")
j2.j # 14.927991
#80%
#pitfall jackknife; richness = 9
j1.p <- diversityresult(pitfall.com.matrix_order, y=NULL, index = "jack1")
j1.p # 9.974359
#90%
j2.p <- diversityresult(pitfall.com.matrix_order, y=NULL, index = "jack2")
j2.p # 10.923077
#82%
#ramp jackknife; richness = 12
j1.r <- diversityresult(ramp.com.matrix_order, y=NULL, index = "jack1")
j1.r # 12
#100%
j2.r <- diversityresult(ramp.com.matrix_order, y=NULL, index = "jack2")
j2.r # 11.070848
#108% --> 100%
#sticky jackknife; richness = 10
j1.s <- diversityresult(sticky.com.matrix_order, y=NULL, index = "jack1")
j1.s # 10
#100%
j2.s <- diversityresult(sticky.com.matrix_order, y=NULL, index = "jack2")
j2.s # 10
#100%
#BiodiversityR::accumcomp
Accum.1_order <- accumcomp(com.matrix_order, y=env.matrix_order, factor='Trap',
method='random', conditioned=FALSE, plotit=FALSE)
Accum.1_order
#BiodiversityR::accumcomp.long
accum.long1_order <- accumcomp.long(Accum.1_order, ci=NA, label.freq=5)
head(accum.long1_order)
#plot
#empty canvas
BioR.theme <- theme(
panel.background = element_blank(),
panel.border = element_blank(),
panel.grid = element_blank(),
axis.line = element_line("gray25"),
text = element_text(size = 12),
axis.text = element_text(size = 10, colour = "gray25"),
axis.title = element_text(size = 14, colour = "gray25"),
legend.title = element_text(size = 14),
legend.text = element_text(size = 14),
legend.key = element_blank())
order_accum <- ggplot(data=accum.long1_order, aes(x = Sites, y = Richness, ymax = UPR, ymin = LWR)) +
scale_x_continuous(expand=c(0, 1), sec.axis = dup_axis(labels=NULL, name=NULL)) +
scale_y_continuous(sec.axis = dup_axis(labels=NULL, name=NULL)) +
scale_color_manual(values=c("#009E73","#E69F00","#F0E442","#CC79A7"))+
scale_shape_manual(values=c(19,17,15,25))+
geom_line(aes(colour=Grouping), size=0.1) +
geom_ribbon(aes(colour=Grouping, fill=after_scale(alpha(colour, 0.3))),
show.legend=FALSE, linetype = 0) +
geom_point(data=subset(accum.long1_order, labelit==TRUE),
aes(colour=Grouping, shape=Grouping), size=3) +
BioR.theme +
labs(x = "", y = "", colour = "Trap", shape = "Trap")
order_accum
pitfall <- read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/Insect%20ID%202020_pitfall_functional.csv",na.strings = NULL)
ramp <- read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/Insect%20ID%202020_yellowramp_functional.csv",na.strings = NULL)
jar <- read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/Insect%20ID%202020_jarramp_functional.csv",na.strings = NULL)
sticky <- read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/Insect%20ID%202020_stickycard_functional.csv",na.strings = NULL)
taxa <- read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/Functional%20taxa.csv")
#add trap type as a column on each data file
pitfall$Trap="pitfall"
ramp$Trap="ramp"
jar$Trap="jar"
sticky$Trap="sticky"
pitfall.com.matrix<-pitfall[c(5:43)]
pitfall_curve<-accumresult(pitfall.com.matrix, method = "exact", permutations = 1000)
jar.com.matrix<-jar[c(5:43)]
jar_curve<-accumresult(jar.com.matrix, method = "exact", permutations = 1000)
ramp.com.matrix<-ramp[c(5:43)]
ramp_curve<-accumresult(ramp.com.matrix, method = "exact", permutations = 1000)
sticky.com.matrix<-sticky[c(5:43)]
sticky_curve<-accumresult(sticky.com.matrix, method = "exact", permutations = 1000)
#first-order jackknife estimates are based on the number of singletons
#second-order jackknife estimates are based on the number of singletons and doubletons
#calculates species richness for each sample
specnumber(com.matrix) #ranges from 1 to 20
#calculates species richness by treatment (trap)
specnumber(com.matrix, groups = insects$Trap) #jar=26; pitfall=21; ramp=35; sticky=31
#total richness and jackknife
rich <- diversityresult(com.matrix, y=NULL, index = "richness")
rich # 39
j1 <- diversityresult(com.matrix, y=NULL, index = "jack1")
j1 # 43.969697
#89%
j2 <- diversityresult(com.matrix, y=NULL, index = "jack2")
j2 # 44.98167
#87%
#jar jackknife; richness = 26
j1.j <- diversityresult(jar.com.matrix, y=NULL, index = "jack1")
j1.j # 32.833333
#79%
j2.j <- diversityresult(jar.com.matrix, y=NULL, index = "jack2")
j2.j # 35.783391
#73%
#pitfall jackknife; richness = 21
j1.p <- diversityresult(pitfall.com.matrix, y=NULL, index = "jack1")
j1.p # 24.897436
#84%
j2.p <- diversityresult(pitfall.com.matrix, y=NULL, index = "jack2")
j2.p # 25.921053
#81%
#ramp jackknife; richness = 35
j1.r <- diversityresult(ramp.com.matrix, y=NULL, index = "jack1")
j1.r # 41.833333
#84%
j2.r <- diversityresult(ramp.com.matrix, y=NULL, index = "jack2")
j2.r # 46.641696
#75%
#sticky jackknife; richness = 31
j1.s <- diversityresult(sticky.com.matrix, y=NULL, index = "jack1")
j1.s # 36.857143
#84%
j2.s <- diversityresult(sticky.com.matrix, y=NULL, index = "jack2")
j2.s # 39.783972
#78%
#BiodiversityR::accumcomp
Accum.1_functional <- accumcomp(com.matrix, y=env.matrix, factor='Trap',
method='random', conditioned=FALSE, plotit=FALSE)
Accum.1_functional
#BiodiversityR::accumcomp.long
accum.long1_functional <- accumcomp.long(Accum.1_functional, ci=NA, label.freq=5)
head(accum.long1_functional)
#plot
#empty canvas
BioR.theme <- theme(
panel.background = element_blank(),
panel.border = element_blank(),
panel.grid = element_blank(),
axis.line = element_line("gray25"),
text = element_text(size = 12),
axis.text = element_text(size = 10, colour = "gray25"),
axis.title = element_text(size = 14, colour = "gray25"),
legend.title = element_text(size = 14),
legend.text = element_text(size = 14),
legend.key = element_blank())
functional_accum <- ggplot(data=accum.long1_functional, aes(x = Sites, y = Richness, ymax = UPR, ymin = LWR)) +
scale_x_continuous(expand=c(0, 1), sec.axis = dup_axis(labels=NULL, name=NULL)) +
scale_y_continuous(sec.axis = dup_axis(labels=NULL, name=NULL)) +
scale_color_manual(values=c("#009E73","#E69F00","#F0E442","#CC79A7"))+
scale_shape_manual(values=c(19,17,15,25))+
geom_line(aes(colour=Grouping), size=0.1) +
geom_ribbon(aes(colour=Grouping, fill=after_scale(alpha(colour, 0.3))),
show.legend=FALSE, linetype = 0) +
geom_point(data=subset(accum.long1_functional, labelit==TRUE),
aes(colour=Grouping, shape=Grouping), size=3) +
BioR.theme +
labs(x = "", y = "", colour = "Trap", shape = "Trap")
functional_accum
pitfall_beetle <- read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/2020%20beetles_pitfall.csv",na.strings = NULL)
ramp_beetle <- read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/2020%20beetles_yellowramp.csv",na.strings = NULL)
jar_beetle <- read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/2020%20beetles_jarramp.csv",na.strings = NULL)
sticky_beetle <- read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/2020%20beetles_stickycard.csv",na.strings = NULL)
taxa_beetle <- read.csv("https://raw.githubusercontent.com/katiemmanning/jar_ramp_trap/main/Data/beetle%20taxa.csv")
#add trap type as a column on each data file
pitfall_beetle$Trap="pitfall"
ramp_beetle$Trap="ramp"
jar_beetle$Trap="jar"
sticky_beetle$Trap="sticky"
pitfall.com.matrix<-pitfall_beetle[c(4:18)]
pitfall_curve<-accumresult(pitfall.com.matrix, method = "exact", permutations = 1000)
jar.com.matrix<-jar_beetle[c(4:18)]
jar_curve<-accumresult(jar.com.matrix, method = "exact", permutations = 1000)
ramp.com.matrix<-ramp_beetle[c(4:18)]
ramp_curve<-accumresult(ramp.com.matrix, method = "exact", permutations = 1000)
sticky.com.matrix<-sticky_beetle[c(4:18)]
sticky_curve<-accumresult(sticky.com.matrix, method = "exact", permutations = 1000)
#first-order jackknife estimates are based on the number of singletons
#second-order jackknife estimates are based on the number of singletons and doubletons
#calculates species richness for each sample
specnumber(com.matrix_beetle) #ranges from 1 to 3
#calculates species richness by treatment (trap)
specnumber(com.matrix_beetle, groups = beetle$Trap) #jar=3; pitfall=3; ramp=8; sticky=9
#total richness and jackknife
rich <- diversityresult(com.matrix_beetle, y=NULL, index = "richness")
rich # 15
j1 <- diversityresult(com.matrix_beetle, y=NULL, index = "jack1")
j1 # 18.878788
#79%
j2 <- diversityresult(com.matrix_beetle, y=NULL, index = "jack2")
j2 # 18.996212
#79%
#jar jackknife; richness = 3
j1.j <- diversityresult(jar.com.matrix, y=NULL, index = "jack1")
j1.j # 3.8333333
#78%
j2.j <- diversityresult(jar.com.matrix, y=NULL, index = "jack2")
j2.j #3.9666667
#76%
#pitfall jackknife; richness = 3
j1.p <- diversityresult(pitfall.com.matrix, y=NULL, index = "jack1")
j1.p # 3.8333333
#78%
j2.p <- diversityresult(pitfall.com.matrix, y=NULL, index = "jack2")
j2.p # 3.9666667
#76%
#ramp jackknife; richness = 8
j1.r <- diversityresult(ramp.com.matrix, y=NULL, index = "jack1")
j1.r # 11.555556
#69%
j2.r <- diversityresult(ramp.com.matrix, y=NULL, index = "jack2")
j2.r # 13.305556
#60%
#sticky jackknife; richness = 9
j1.s <- diversityresult(sticky.com.matrix, y=NULL, index = "jack1")
j1.s # 11.75
#77%
j2.s <- diversityresult(sticky.com.matrix, y=NULL, index = "jack2")
j2.s # 11.219697
#80%
#BiodiversityR::accumcomp
Accum.1_beetle <- accumcomp(com.matrix_beetle, y=env.matrix_beetle, factor='Trap',
method='random', conditioned=FALSE, plotit=FALSE)
Accum.1_beetle
#BiodiversityR::accumcomp.long
accum.long1_beetle <- accumcomp.long(Accum.1_beetle, ci=NA, label.freq=5)
head(accum.long1_beetle)
#plot
#empty canvas
BioR.theme <- theme(
panel.background = element_blank(),
panel.border = element_blank(),
panel.grid = element_blank(),
axis.line = element_line("gray25"),
text = element_text(size = 12),
axis.text = element_text(size = 10, colour = "gray25"),
axis.title = element_text(size = 14, colour = "gray25"),
legend.title = element_text(size = 14),
legend.text = element_text(size = 14),
legend.key = element_blank())
beetle_accum <- ggplot(data=accum.long1_beetle, aes(x = Sites, y = Richness, ymax = UPR, ymin = LWR)) +
scale_x_continuous(expand=c(0, 1), sec.axis = dup_axis(labels=NULL, name=NULL)) +
scale_y_continuous(sec.axis = dup_axis(labels=NULL, name=NULL)) +
scale_color_manual(values=c("#009E73","#E69F00","#F0E442","#CC79A7"))+
scale_shape_manual(values=c(19,17,15,25))+
geom_line(aes(colour=Grouping), size=0.1) +
geom_ribbon(aes(colour=Grouping, fill=after_scale(alpha(colour, 0.3))),
show.legend=FALSE, linetype = 0) +
geom_point(data=subset(accum.long1_beetle, labelit==TRUE),
aes(colour=Grouping, shape=Grouping), size=3) +
BioR.theme +
labs(x = "Number of samples", y = "", colour = "Trap", shape = "Trap")
beetle_accum
#a - order
#b - functional
#c - beetles
require(grid)   # for the textGrob() function
figure3 <- ggarrange(order_accum, functional_accum, beetle_accum,
labels = c("A", "B", "C"),
ncol = 1, nrow = 3,
common.legend = TRUE, legend = "bottom")
annotate_figure(figure3, left = textGrob("Common y-axis", rot = 90, vjust = 1, gp = gpar(cex = 1.3)),
bottom = textGrob("Common x-axis", gp = gpar(cex = 1.3)))
figure3 <- ggarrange(order_accum, functional_accum, beetle_accum,
labels = c("A", "B", "C"),
ncol = 1, nrow = 3,
common.legend = TRUE, legend = "bottom")
annotate_figure(figure3, left = textGrob("Richness", rot = 90, vjust = 1, gp = gpar(cex = 1.3)))
figure3
figure3 <- ggarrange(order_accum, functional_accum, beetle_accum,
labels = c("A", "B", "C"),
ncol = 1, nrow = 3,
common.legend = TRUE, legend = "bottom")
annotate_figure(figure3, left = textGrob("Richness", rot = 90, vjust = 1, gp = gpar(cex = 1.3)))
annotate_figure(figure3, left = textGrob("Richness", rot = 90, vjust = 0.8, gp = gpar(cex = 1.3)))
annotate_figure(figure3, left = textGrob("Richness", rot = 90, vjust = 0.6, gp = gpar(cex = 1.3)))
annotate_figure(figure3, left = textGrob("Richness", rot = 90, vjust = 1.2, gp = gpar(cex = 1.3)))
annotate_figure(figure3, left = textGrob("Richness", rot = 90, vjust = 1, gp = gpar(cex = 1.3)))
figure3 <- ggarrange(order_accum, functional_accum, beetle_accum,
labels = c("A", "B", "C"),
ncol = 1, nrow = 3,
common.legend = TRUE, legend = "bottom")
annotate_figure(figure3, left = textGrob("Richness", rot = 90, vjust = 1, gp = gpar(cex = 1.3)))
figure3 <- ggarrange(order_accum, functional_accum, beetle_accum,
labels = c("A", "B", "C"),
ncol = 1, nrow = 3,
common.legend = TRUE, legend = "bottom")
annotate_figure(figure3, left = textGrob("Richness", rot = 90, vjust = 1, gp = gpar(cex = 1.3)))
annotate_figure(figure3, left = textGrob("Richness", rot = 100, vjust = 1, gp = gpar(cex = 1.3)))
annotate_figure(figure3, left = textGrob("Richness", rot = 90, vjust = 1, gp = gpar(cex = 1.3)))
annotate_figure(figure3, left = textGrob("Richness", rot = 90, vjust = 1, gp = gpar(cex = 1)))
annotate_figure(figure3, left = textGrob("Richness", rot = 90, vjust = 1, gp = gpar(cex = 1.2)))
annotate_figure(figure3, left = textGrob("Richness", rot = 90, vjust = 1, just = "centre", gp = gpar(cex = 1.2)))
figure3 <- ggarrange(order_accum, functional_accum, beetle_accum,
labels = c("A", "B", "C"),
ncol = 1, nrow = 3,
common.legend = TRUE, legend = "bottom")
annotate_figure(figure3, left = textGrob("Richness", rot = 90, vjust = 1, just = "centre", gp = gpar(cex = 1.2)))
annotate_figure(figure3, left = textGrob("Richness", rot = 90, vjust = 1, gp = gpar(cex = 1.2)))
annotate_figure(figure3, left = textGrob("Richness", rot = 90, vjust = 1, hjust = 1, gp = gpar(cex = 1.2)))
annotate_figure(figure3, left = textGrob("Richness", rot = 90, vjust = 1, hjust = 1.5, gp = gpar(cex = 1.2)))
annotate_figure(figure3, left = textGrob("Richness", rot = 90, vjust = 1, hjust = 0.8, gp = gpar(cex = 1.2)))
annotate_figure(figure3, left = textGrob("Richness", rot = 90, vjust = 1, hjust = 0.5, gp = gpar(cex = 1.2)))
annotate_figure(figure3, left = textGrob("Richness", rot = 90, vjust = 1, hjust = 0, gp = gpar(cex = 1.2)))
annotate_figure(figure3, left = textGrob("Richness", rot = 90, vjust = 1.2, hjust = 0, gp = gpar(cex = 1.2)))
annotate_figure(figure3, left = textGrob("Richness", rot = 90, vjust = 1.4, hjust = 0, gp = gpar(cex = 1.2)))
annotate_figure(figure3, left = textGrob("Richness", rot = 90, vjust = 0.8, hjust = 0, gp = gpar(cex = 1.2)))
annotate_figure(figure3, left = textGrob("Richness", rot = 90, vjust = 0.7, hjust = 0, gp = gpar(cex = 1.2)))
figure3 <- ggarrange(order_accum, functional_accum, beetle_accum,
labels = c("A", "B", "C"),
ncol = 1, nrow = 3,
common.legend = TRUE, legend = "bottom")
annotate_figure(figure3, left = textGrob("Richness", rot = 90, vjust = 0.7, hjust = 0, gp = gpar(cex = 1.2)))
pdf("Figure 3.pdf", height=6, width=6) #height and width in inches
figure3
dev.off()
figure3 <- ggarrange(order_accum, functional_accum, beetle_accum,
labels = c("A", "B", "C"),
ncol = 1, nrow = 3,
common.legend = TRUE, legend = "bottom")
figure3 <- annotate_figure(figure3, left = textGrob("Richness", rot = 90, vjust = 0.7, hjust = 0, gp = gpar(cex = 1.2)))
pdf("Figure 3.pdf", height=6, width=6) #height and width in inches
figure3
dev.off()
beetle_accum <- ggplot(data=accum.long1_beetle, aes(x = Sites, y = Richness, ymax = 10, ymin = 12)) +
scale_x_continuous(expand=c(0, 1), sec.axis = dup_axis(labels=NULL, name=NULL)) +
scale_y_continuous(sec.axis = dup_axis(labels=NULL, name=NULL)) +
scale_color_manual(values=c("#009E73","#E69F00","#F0E442","#CC79A7"))+
scale_shape_manual(values=c(19,17,15,25))+
geom_line(aes(colour=Grouping), size=0.1) +
geom_ribbon(aes(colour=Grouping, fill=after_scale(alpha(colour, 0.3))),
show.legend=FALSE, linetype = 0) +
geom_point(data=subset(accum.long1_beetle, labelit==TRUE),
aes(colour=Grouping, shape=Grouping), size=3) +
BioR.theme +
labs(x = "Number of samples", y = "", colour = "Trap", shape = "Trap")
beetle_accum
beetle_accum <- ggplot(data=accum.long1_beetle, aes(x = Sites, y = Richness, ymax = UPR, ymin = LWR)) +
scale_x_continuous(expand=c(0, 1), sec.axis = dup_axis(labels=NULL, name=NULL)) +
scale_y_continuous(sec.axis = dup_axis(labels=NULL, name=NULL)) +
scale_color_manual(values=c("#009E73","#E69F00","#F0E442","#CC79A7"))+
scale_shape_manual(values=c(19,17,15,25))+
geom_line(aes(colour=Grouping), size=0.1) +
geom_ribbon(aes(colour=Grouping, fill=after_scale(alpha(colour, 0.3))),
show.legend=FALSE, linetype = 0) +
geom_point(data=subset(accum.long1_beetle, labelit==TRUE),
aes(colour=Grouping, shape=Grouping), size=3) +
BioR.theme +
labs(x = "Number of samples", y = "", colour = "Trap", shape = "Trap")
beetle_accum
library(cowplot)
plot_grid(order_accum, functional_accum, beetle_accum, align = "h", rel_widths = c(1, 1.3))
plot_grid(order_accum, functional_accum, beetle_accum, align = "hv", rel_widths = c(1, 1.3))
aligned <- align_plots(order_accum, functional_accum, beetle_accum, align = "v")
aligned <- align_patches(order_accum, functional_accum, beetle_accum, align = "v")
figure3 <- ggarrange(order_accum, functional_accum, beetle_accum,
labels = c("A", "B", "C"),
ncol = 1, nrow = 3,
common.legend = TRUE, legend = "bottom")
figure3 <- annotate_figure(figure3, left = textGrob("Richness", rot = 90, vjust = 0.7, hjust = 0, gp = gpar(cex = 1.2)))
figure3
figure3 <- ggarrange(order_accum, functional_accum, beetle_accum,
labels = c("A", "B", "C"),
ncol = 1, nrow = 3,
common.legend = TRUE, legend = "bottom")
figure3 <- annotate_figure(figure3, left = textGrob("Richness", rot = 90, vjust = 0.7, hjust = 0, gp = gpar(cex = 1.2)))
figure3
figure3 <- ggarrange(order_accum, functional_accum, beetle_accum,
labels = c("A", "B", "C"),
ncol = 1, nrow = 3,
common.legend = TRUE, legend = "bottom")
figure3 <- annotate_figure(figure3, left = textGrob("Richness", rot = 90, vjust = 0.7, hjust = 0, gp = gpar(cex = 1.2)))
figure3
bottom_row <- plot_grid(plots[[3]], beetle_accum, nrow = 1)
plots <- align_plots(order_accum, functional_accum, beetle_accum, align = 'v', axis = 'l')
("deprecated")
help ("Deprecated")
library(patchwork)
plots <- align_patc(order_accum, functional_accum, beetle_accum, align = 'v', axis = 'l')
plots <- align_patches(order_accum, functional_accum, beetle_accum, align = 'v', axis = 'l')
figure3 <- ggarrange(order_accum, functional_accum, beetle_accum,
labels = c("A", "B", "C"),
ncol = 1, nrow = 3,
common.legend = TRUE, legend = "bottom")
figure3 <- annotate_figure(figure3, left = textGrob("Richness", rot = 90, vjust = 0.7, hjust = 0, gp = gpar(cex = 1.2)))
figure3
library(cowplot)
aligned <- align_plots(order_accum, functional_accum, beetle_accum, align = "v")
ggdraw(aligned[[1]])
aligned <- align_patches(order_accum, functional_accum, beetle_accum, align = "v")
library(patchwork)
aligned <- align_patches(order_accum, functional_accum, beetle_accum, align = "v")
